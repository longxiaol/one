function $(e,t){return t=t||document,0===e.indexOf("#")?document.getElementById(e.slice(1)):0===e.indexOf(".")?getByClassName(e.slice(1),t):t.getElementsByTagName(e)}function getByClassName(e,t){if(t=t||document,document.getElementsByClassName)return t.getElementsByClassName(e);for(var n=[],o=t.getElementsByTagName("*"),r=0,i=o.length;r<i;r++)for(var a=o[r].className.split(" "),s=0,f=a.length;s<f;s++)if(a[s]==e){n.push(o[r]);break}return n}function css(e,t,n){if("object"==typeof t)for(var o in t)e.style[o]=t[o];else{if("string"!=typeof t||void 0===n)return window.getComputedStyle?getComputedStyle(e)[t]:e.currentStyle[t];e.style[t]=n}}function offset(e,t){for(var n=0,o=0,r=void 0===t?e:e.offsetParent;null!==r;)n+=r.offsetTop,o+=r.offsetLeft,r=r.offsetParent;if(void 0===t)return{top:n,left:o};css(e,{top:t.top-n+"px",left:t.left-o+"px"})}function position(e){return{top:e.offsetTop,left:e.offsetLeft}}function on(e,t,n,o){var r;"string"==typeof n?r=function(e){e=e||event;var t=e.target||e.srcElement;console.log("target:",t);var r=o.bind(t);if(0===n.indexOf(".")){var i=t.className.split(" ");-1!==inArray(n.slice(1),i)&&r(e)}else t.nodeName.toLowerCase()===n.toLowerCase()&&r(e)}:"function"==typeof n&&(r=n),e.addEventListener?(0===t.indexOf("on")&&(t=t.slice(2)),e.addEventListener(t,r,!1)):(0!==t.indexOf("on")&&(t="on"+t),e.attachEvent(t,r))}function off(e,t,n){e.removeEventListener?(0===t.indexOf("on")&&(t=t.slice(2)),e.removeEventListener(t,n,!1)):(0!==t.indexOf("on")&&(t="on"+t),e.detachEvent(t,n))}function cookie(e,t,n){if(void 0===t){for(var o=document.cookie.split("; "),r=0,i=o.length;r<i;r++){var a=o[r].split("=");if(e===decodeURIComponent(a.shift()))return decodeURIComponent(a.join("="))}return null}var a=encodeURIComponent(e)+"="+encodeURIComponent(t);if(n=n||{},void 0!==n.expires)if("number"==typeof n.expires){var s=new Date;s.setDate(s.getDate()+n.expires),a+=";expires="+s.toUTCString()}else"object"==typeof n.expires&&(a+=";expires="+n.expires.toUTCString());n.path&&(a+=";path="+n.path),n.domain&&(a+=";domain="+n.domain),n.secure&&(a+=";secure"),document.cookie=a}function removeCookie(e,t){t=t||{},t.expires=-1,cookie(e,"",t)}function inArray(e,t){if(Array.prototype.indexOf)return t.indexOf(e);for(var n=0,o=t.length;n<o;n++)if(e===t[n])return n;return-1}function trim(e){if(String.prototype.trim)return e.trim();return e.replace(/^\s+|\s+$/g,"")}function animate(e,t,n,o){clearInterval(e.timer);var r={},i={};for(var a in t)r[a]=parseFloat(css(e,a)),i[a]=t[a]-r[a];var s=+new Date;e.timer=setInterval(function(){var a=Math.min(+new Date-s,n);for(var f in t){var c=a*i[f]/n+r[f];e.style[f]=c+("opacity"===f?"":"px"),"opacity"===f&&(e.style.filter="alpha(opacity="+100*c+")")}a===n&&(clearInterval(e.timer),o&&o())},1e3/60)}function fadeIn(e,t,n){e.style.opacity=0,e.style.display="block",animate(e,{opacity:1},t,n)}function fadeOut(e,t,n){animate(e,{opacity:0},t,function(){e.style.display="none",n&&n()})}function ajax(e){e=e||{};var t=e.url;if(t){var n;n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");var o=e.type||"get",r="boolean"!=typeof e.async||e.async,i=null;if(e.data){var a=[];for(var s in e.data)a.push(s+"="+e.data[s]);i=a.join("&")}if("get"===o&&i&&(t+="?"+i,i=null),n.open(o,t,r),"post"===o&&n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.headers)for(var s in e.headers)n.setRequestHeader(s,e.headers[s]);n.send(i),n.onreadystatechange=function(){if(4===n.readyState)if(e.complete&&e.complete(n),200===n.status){var t=n.responseText;"json"===e.dataType&&(t=JSON.parse(t)),e.success&&e.success(t)}else e.error&&e.error(n.statusText)}}}function get(e){return new Promise(function(t,n){ajax({url:e,type:"get",dataType:"json",success:function(e){t(e)},error:function(e){n(e)}})})}